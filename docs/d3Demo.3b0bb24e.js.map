{"version":3,"sources":["d3Demo.js"],"names":["line_svg","colorSet","sunshineArray","margin","top","right","bottom","left","w","h","legendSpace","console","log","y","d3","scaleLinear","range","x","scaleTime","yAxis","axisLeft","xAxis","axisBottom","tickFormat","timeFormat","citySet","csv","sunshineData","then","data","forEach","d","push","includes","city","drawLineD3","scaleOrdinal","domain","schemeSet2","extent","timeParse","month","parseFloat","sunshine","select","append","attr","call","path","line","currentCity","filter","e","datum","style","legend","selectAll","join","indexOf","text"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAAqD;AACrD,cAAkB;AACA;;;AAElB,IAAIA,QAAJ,EAAiB;;AACjB,IAAIC,QAAJ,EAAiB;;AACjB,IAAIC,aAAa,GAAG,EAApB,EAA0B;AAE1B;;AACA,IAAIC,MAAM,GAAG;AAAEC,EAAAA,GAAG,EAAE,EAAP;AAAWC,EAAAA,KAAK,EAAE,EAAlB;AAAsBC,EAAAA,MAAM,EAAE,EAA9B;AAAkCC,EAAAA,IAAI,EAAE;AAAxC,CAAb;AAAA,IACAC,CAAC,GAAG,OAAOL,MAAM,CAACI,IAAP,GAAcJ,MAAM,CAACE,KAA5B,CADJ;AAAA,IAEAI,CAAC,GAAG,OAAON,MAAM,CAACC,GAAP,GAAaD,MAAM,CAACG,MAA3B,CAFJ;AAGA,IAAII,WAAW,GAAG,GAAlB;AACAC,OAAO,CAACC,GAAR,CAAYT,MAAZ,GAEA;;AACA,IAAIU,CAAC,GAAGC,EAAE,CAACC,WAAH,GACGC,KADH,CACS,CAACP,CAAD,EAAI,CAAJ,CADT,CAAR;AAEA,IAAIQ,CAAC,GAAGH,EAAE,CAACI,SAAH,GACGF,KADH,CACS,CAAC,CAAD,EAAIR,CAAJ,CADT,CAAR;AAEA,IAAIW,KAAK,GAAGL,EAAE,CAACM,QAAH,CAAYP,CAAZ,CAAZ;AACA,IAAIQ,KAAK,GAAGP,EAAE,CAACQ,UAAH,CAAcL,CAAd,EACTM,UADS,CACET,EAAE,CAACU,UAAH,CAAc,IAAd,CADF,CAAZ,EACsC;;AAEtC,IAAIC,OAAO,GAAG,EAAd,EAEA;;AACAX,EAAE,CAACY,GAAH,CAAOC,iBAAP,EAAqBC,IAArB,CAA0B,UAASC,IAAT,EAAe;AACvCA,EAAAA,IAAI,CAACC,OAAL,CAAa,UAASC,CAAT,EAAW;AACtB7B,IAAAA,aAAa,CAAC8B,IAAd,CAAmBD,CAAnB;;AACA,QAAI,CAACN,OAAO,CAACQ,QAAR,CAAiBF,CAAC,CAACG,IAAnB,CAAL,EAA+B;AAC7BT,MAAAA,OAAO,CAACO,IAAR,CAAaD,CAAC,CAACG,IAAf;AACD;AACF,GALD;AAMAC,EAAAA,UAAU;AACX,CARD;;AAUA,SAASA,UAAT,GAAsB;AAEpBlC,EAAAA,QAAQ,GAAGa,EAAE,CAACsB,YAAH,GACVC,MADU,CACHZ,OADG,EAEVT,KAFU,CAEJF,EAAE,CAACwB,UAFC,CAAX;AAGFrB,EAAAA,CAAC,CAACoB,MAAF,CAASvB,EAAE,CAACyB,MAAH,CAAUrC,aAAV,EAAyB,UAAA6B,CAAC;AAAA,WAAIjB,EAAE,CAAC0B,SAAH,CAAa,IAAb,EAAmBT,CAAC,CAACU,KAArB,CAAJ;AAAA,GAA1B,CAAT;AACA5B,EAAAA,CAAC,CAACwB,MAAF,CAASvB,EAAE,CAACyB,MAAH,CAAUrC,aAAV,EAAyB,UAAA6B,CAAC;AAAA,WAAIW,UAAU,CAACX,CAAC,CAACY,QAAH,CAAd;AAAA,GAA1B,CAAT;AAEE3C,EAAAA,QAAQ,GAAGc,EAAE,CAAC8B,MAAH,CAAU,UAAV,EACIC,MADJ,CACW,KADX,EAEIC,IAFJ,CAES,IAFT,EAEe,YAFf,EAGIA,IAHJ,CAGS,OAHT,EAGkBtC,CAAC,GAAGL,MAAM,CAACI,IAAX,GAAkBJ,MAAM,CAACE,KAAzB,GAAiCK,WAHnD,EAIIoC,IAJJ,CAIS,QAJT,EAImBrC,CAAC,GAAGN,MAAM,CAACC,GAAX,GAAiBD,MAAM,CAACG,MAJ3C,EAKEuC,MALF,CAKS,GALT,EAMIC,IANJ,CAMS,WANT,EAMsB,eAAe3C,MAAM,CAACI,IAAtB,GAA6B,GAA7B,GAAmCJ,MAAM,CAACC,GAA1C,GAAgD,GANtE,CAAX;AAOFJ,EAAAA,QAAQ,CAAC6C,MAAT,CAAgB,GAAhB,EACCC,IADD,CACM,WADN,EACmB,iBAAiBrC,CAAjB,GAAqB,GADxC,EAECqC,IAFD,CAEM,OAFN,EAEc,SAFd,EAGCC,IAHD,CAGM1B,KAHN;AAKArB,EAAAA,QAAQ,CAAC6C,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B,OAA1B,EAAmC,SAAnC,EAA8CC,IAA9C,CAAmD5B,KAAnD;AAEA,MAAI6B,IAAI,GAAGhD,QAAQ,CAAC6C,MAAT,CAAgB,GAAhB,EACVC,IADU,CACL,IADK,EACA,aADA,CAAX;AAGA,MAAIG,IAAI,GAAGnC,EAAE,CAACmC,IAAH,GACIhC,CADJ,CACM,UAAAc,CAAC;AAAA,WAAId,CAAC,CAACH,EAAE,CAAC0B,SAAH,CAAa,IAAb,EAAmBT,CAAC,CAACU,KAArB,CAAD,CAAL;AAAA,GADP,EAEI5B,CAFJ,CAEM,UAAAkB,CAAC;AAAA,WAAIlB,CAAC,CAAC6B,UAAU,CAACX,CAAC,CAACY,QAAH,CAAX,CAAL;AAAA,GAFP,CAAX;AAIAlB,EAAAA,OAAO,CAACK,OAAR,CAAgB,UAAAC,CAAC,EAAI;AACnB,QAAImB,WAAW,GAAGhD,aAAa,CAACiD,MAAd,CAAqB,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAAClB,IAAF,KAAWH,CAAf;AAAA,KAAtB,CAAlB;AACAiB,IAAAA,IAAI,CAACH,MAAL,CAAY,MAAZ,EACWQ,KADX,CACiBH,WADjB,EAEWJ,IAFX,CAEgB,OAFhB,EAEyB,OAFzB,EAGWA,IAHX,CAGgB,GAHhB,EAGqBG,IAHrB,EAIWK,KAJX,CAIiB,cAJjB,EAIiC,GAJjC,EAKWA,KALX,CAKiB,MALjB,EAKyB,MALzB,EAMWR,IANX,CAMgB,QANhB,EAM0B7C,QAAQ,CAAC8B,CAAD,CANlC;AAOD,GATD;AAUA,MAAIwB,MAAM,GAAGvD,QAAQ,CAAC6C,MAAT,CAAgB,GAAhB,EACZC,IADY,CACP,IADO,EACF,cADE,CAAb;AAGAS,EAAAA,MAAM,CAACC,SAAP,CAAiB,MAAjB,EAAyB3B,IAAzB,CAA8BJ,OAA9B,EACCgC,IADD,CACM,MADN,EAECX,IAFD,CAEM,OAFN,EAEc,SAFd,EAGCA,IAHD,CAGM,GAHN,EAGU,GAHV,EAICA,IAJD,CAIM,GAJN,EAIW,UAAAf,CAAC;AAAA,WAAI,KAAG,KAAIN,OAAO,CAACiC,OAAR,CAAgB3B,CAAhB,CAAX;AAAA,GAJZ,EAKCe,IALD,CAKM,OALN,EAKe,EALf,EAMCA,IAND,CAMM,QANN,EAMgB,EANhB,EAOCQ,KAPD,CAOO,MAPP,EAOe,UAAAvB,CAAC;AAAA,WAAI9B,QAAQ,CAAC8B,CAAD,CAAZ;AAAA,GAPhB;AASAwB,EAAAA,MAAM,CAACC,SAAP,CAAiB,MAAjB,EAAyB3B,IAAzB,CAA8BJ,OAA9B,EACCgC,IADD,CACM,MADN,EAECX,IAFD,CAEM,OAFN,EAEc,SAFd,EAGCA,IAHD,CAGM,GAHN,EAGW,GAHX,EAICA,IAJD,CAIM,GAJN,EAIW,UAAAf,CAAC;AAAA,WAAI,KAAG,KAAIN,OAAO,CAACiC,OAAR,CAAgB3B,CAAhB,CAAX;AAAA,GAJZ,EAKC4B,IALD,CAKM,UAAA5B,CAAC;AAAA,WAAIA,CAAJ;AAAA,GALP,EAMCuB,KAND,CAMO,WANP,EAMoB,MANpB,EAOCR,IAPD,CAOM,oBAPN,EAO2B,QAP3B;AAWC","file":"d3Demo.3b0bb24e.js","sourceRoot":"..\\src","sourcesContent":["import sunshineData from '../static/sunshine.csv'    // import dataset\r\n\"use strict\";     // the code should be executed in \"strict mode\".\r\n                  // With strict mode, you can not, for example, use undeclared variables\r\n\r\nvar line_svg;    // used for svg later\r\nvar colorSet;    // used for color scheme later\r\nvar sunshineArray = [];   // used to store data later\r\n\r\n// preparation for our svg\r\nvar margin = { top: 50, right: 35, bottom: 50, left: 50 },\r\nw = 650 - (margin.left + margin.right),\r\nh = 520 - (margin.top + margin.bottom);\r\nvar legendSpace = 130;\r\nconsole.log(margin);\r\n\r\n// preparation for our x/y axis\r\nvar y = d3.scaleLinear()\r\n          .range([h, 0]);\r\nvar x = d3.scaleTime()\r\n          .range([0, w]);\r\nvar yAxis = d3.axisLeft(y);\r\nvar xAxis = d3.axisBottom(x)\r\n  .tickFormat(d3.timeFormat(\"%b\"));   // %b: abbreviated Month format (Mon, Jun..)\r\n\r\nvar citySet = [];\r\n\r\n// once finish processing data, make a graph!\r\nd3.csv(sunshineData).then(function(data) {\r\n  data.forEach(function(d){\r\n    sunshineArray.push(d);\r\n    if (!citySet.includes(d.city)) {\r\n      citySet.push(d.city);\r\n    }\r\n  })\r\n  drawLineD3();\r\n});\r\n\r\nfunction drawLineD3() {\r\n\r\n  colorSet = d3.scaleOrdinal()\r\n  .domain(citySet)\r\n  .range(d3.schemeSet2);\r\nx.domain(d3.extent(sunshineArray, d => d3.timeParse(\"%b\")(d.month)));\r\ny.domain(d3.extent(sunshineArray, d => parseFloat(d.sunshine)));\r\n\r\n  line_svg = d3.select('#d3-demo')\r\n                .append('svg')\r\n                .attr(\"id\", \"line-chart\")\r\n                .attr(\"width\", w + margin.left + margin.right + legendSpace)\r\n                .attr(\"height\", h + margin.top + margin.bottom)\r\n              .append('g')\r\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\r\nline_svg.append(\"g\")\r\n.attr(\"transform\", \"translate(0,\" + h + \")\")\r\n.attr(\"class\",\"myXaxis\")\r\n.call(xAxis);\r\n\r\nline_svg.append(\"g\").attr(\"class\", \"myYaxis\").call(yAxis);\r\n\r\nvar path = line_svg.append('g')\r\n.attr(\"id\",\"paths-group\");\r\n\r\nvar line = d3.line()\r\n              .x(d => x(d3.timeParse(\"%b\")(d.month)))\r\n              .y(d => y(parseFloat(d.sunshine)));\r\n\r\ncitySet.forEach(d => {\r\n  var currentCity = sunshineArray.filter(e => e.city === d);\r\n  path.append(\"path\")\r\n            .datum(currentCity)\r\n            .attr(\"class\", \"lines\")\r\n            .attr('d', line)\r\n            .style(\"stroke-width\", 2.5)\r\n            .style(\"fill\", \"none\")\r\n            .attr(\"stroke\", colorSet(d))\r\n});\r\nvar legend = line_svg.append('g')\r\n.attr(\"id\",\"legend-group\");\r\n\r\nlegend.selectAll(\"rect\").data(citySet)\r\n.join(\"rect\")\r\n.attr(\"class\",\"legends\")\r\n.attr(\"x\",600)\r\n.attr(\"y\", d => 25+30*(citySet.indexOf(d)))\r\n.attr(\"width\", 10)\r\n.attr(\"height\", 10)\r\n.style(\"fill\", d => colorSet(d));\r\n\r\nlegend.selectAll(\"text\").data(citySet)\r\n.join(\"text\")\r\n.attr(\"class\",\"legends\")\r\n.attr(\"x\", 620)\r\n.attr(\"y\", d => 30+30*(citySet.indexOf(d)))\r\n.text(d => d)\r\n.style(\"font-size\", \"15px\")\r\n.attr(\"alignment-baseline\",\"middle\");\r\n\r\n\r\n\r\n}\r\n\r\n\r\n"]}