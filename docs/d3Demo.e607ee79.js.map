{"version":3,"sources":["d3Demo.js"],"names":["line_svg","colorSet","sunshineArray","margin","top","right","bottom","left","w","h","legendSpace","console","log","y","d3","scaleLinear","range","x","scaleTime","yAxis","axisLeft","xAxis","axisBottom","tickFormat","timeFormat","citySet","csv","sunshineData","then","data","forEach","d","push","includes","city","drawLineD3","scaleOrdinal","domain","schemeSet2","extent","timeParse","month","parseFloat","sunshine","select","append","attr","call","paths","line","currentCity","filter","e","datum","style","legend","selectAll","join","indexOf","text"],"mappings":"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","file":"d3Demo.e607ee79.js","sourceRoot":"..\\src","sourcesContent":["import sunshineData from '../static/sunshine.csv'    // import dataset\r\n\"use strict\";     // the code should be executed in \"strict mode\".\r\n                  // With strict mode, you can not, for example, use undeclared variables\r\n\r\nvar line_svg;    // used for svg later\r\nvar colorSet;    // used for color scheme later\r\nvar sunshineArray = [];   // used to store data later\r\n\r\n// preparation for our svg\r\nvar margin = { top: 50, right: 35, bottom: 50, left: 50 },\r\nw = 650 - (margin.left + margin.right),\r\nh = 520 - (margin.top + margin.bottom);\r\nvar legendSpace = 130;\r\nconsole.log(margin);\r\n\r\n// preparation for our x/y axis\r\nvar y = d3.scaleLinear()\r\n          .range([h, 0]);\r\nvar x = d3.scaleTime()\r\n          .range([0, w]);\r\nvar yAxis = d3.axisLeft(y);\r\nvar xAxis = d3.axisBottom(x)\r\n  .tickFormat(d3.timeFormat(\"%b\"));   // %b: abbreviated Month format (Mon, Jun..)\r\n\r\nvar citySet = [];\r\n\r\n// once finish processing data, make a graph!\r\nd3.csv(sunshineData).then(function(data) {\r\n  data.forEach(function(d){\r\n    sunshineArray.push(d);\r\n    if (!citySet.includes(d.city)) {\r\n      citySet.push(d.city);\r\n    }\r\n  })\r\n  drawLineD3();\r\n});\r\n\r\nfunction drawLineD3() {\r\n\r\n  colorSet = d3.scaleOrdinal()\r\n               .domain(citySet)\r\n               .range(d3.schemeSet2);\r\n  x.domain(d3.extent(sunshineArray, d => d3.timeParse(\"%b\")(d.month)));\r\n  y.domain(d3.extent(sunshineArray, d => parseFloat(d.sunshine)));\r\n\r\n  line_svg = d3.select(\"#d3-demo\")\r\n    .append('svg')\r\n    .attr(\"id\", \"line-chart\")\r\n    .attr(\"width\", w + margin.left + margin.right + legendSpace)\r\n    .attr(\"height\", h + margin.top + margin.bottom)\r\n    .append('g')\r\n    .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\r\n  // append x axis\r\n  line_svg.append(\"g\")\r\n          .attr(\"transform\", \"translate(0,\" + h + \")\")\r\n          .attr(\"class\", \"myXaxis\")\r\n          .call(xAxis);\r\n  // append y axis\r\n  line_svg.append(\"g\")\r\n          .attr(\"class\", \"myYaxis\")\r\n          .call(yAxis);\r\n\r\n  var paths = line_svg.append(\"g\").attr(\"id\", \"paths-group\");\r\n  var line = d3.line().x(d => x(d3.timeParse(\"%b\")(d.month)))\r\n  .y(d => y(parseFloat(d.sunshine)));\r\n  citySet.forEach(function(d) {\r\n    var currentCity = sunshineArray.filter(e => e.city === d);\r\n    paths.append(\"path\")\r\n          .datum(currentCity)\r\n          .attr(\"class\",\"lines\")\r\n          .attr('d',line)\r\n          .style(\"stroke-width\", 2.5)\r\n          .style(\"fill\",\"none\")\r\n          .attr(\"stroke\", colorSet(d))\r\n  });\r\n\r\n  // add legend\r\n  var legend = line_svg.append('g')\r\n                        .attr(\"id\",\"legend-group\");\r\n\r\n  legend.selectAll(\"rect\").data(citySet)\r\n      .join(\"rect\")\r\n        .attr(\"class\",\"legends\")\r\n        .attr(\"x\",600)\r\n        .attr(\"y\", d => 25+30*(citySet.indexOf(d)))\r\n        .attr(\"width\", 10)\r\n        .attr(\"height\", 10)\r\n        .style(\"fill\", d => colorSet(d));\r\n\r\n  legend.selectAll(\"text\").data(citySet)\r\n      .join(\"text\")\r\n        .attr(\"class\",\"legends\")\r\n        .attr(\"x\", 620)\r\n        .attr(\"y\", d => 30+30*(citySet.indexOf(d)))\r\n        .text(d => d)\r\n        .style(\"font-size\", \"15px\")\r\n        .attr(\"alignment-baseline\",\"middle\");\r\n  \r\n\r\n}\r\n\r\n\r\n"]}